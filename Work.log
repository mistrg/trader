
Work Log

27.1.2021 Initial Pilot - polling prices from Coinmate and Binance 4
28.1.2021 Rewrote bot to support streams. Connection to order book on Coinmate, Computing profitability  8
29.1.2021 Further refactoring to support multiple exchanges and currencies. Integration of mongodb and reporting on atlas, bug fixing 9
30.1.2021 Better versioning of the app, deployment to the server, trying to solve connection problems
1.2.2021 Implementation of get orders, transactions, buy and cancel on binance. 
2.2.2021 Looking for different solution to database problems, Implementation of buy limit
3.2.2021 Bot problems with database are fixed. Bot is running nonstop
4.2.2021 UI for buying inside console. Processer logic for process of buying 
5.2.2021 Processer logic for process of buying. First test of buy functionality on coinmate [Version8]
6.2.2021 Properties renamed to use gros and net for numbers, more transparent texts, integrate selling on binance [Version9]
7.2.2021 Implement sms reporting, debug the buy process to solve resultstate cancelled problem, introduce estimate and real keywords
8.2.2021 Investigation of database, complete rewrite of the structure to support DI, config and logging
9.2.2021 Trading polishing, rewrite of pairing engine => removing the bot slowdown
10.2.2021 Get all transactions and orders,write trades to relation database,get order and transactions from binance and coinmate
11.2.2021 Fixed problems with duplicate order candidates [Version 12], problem resolutions,One cycle decission BUY / NO BUY,Implement email solution,verify that we have enough on exchanges before trade
20.2.2021 Better logging so that we understand why we didn't trade, working on generic buy and sell exchnages
21.2.2021 [3890] Lines of code, further refactoring and generalisations, 
22.2.2021 [4215] Creating common BuyResult and SellResult, understanding BuyLimit structure and changing Fees and CumulativeQty accordingly, buy on Binance tested,
23.2.2021 [] Handling BI states, ensure nice  buy and sell status message, write BuyResult and SellResult to arbitrage, ensure Coinmate not asked too often e.g. on Wallet check after trade, 
24.2.2021 [] Big test session
25.2.2021 BI lower orginal amount to be sold on CM by the cumulative fee, Extend arbitrage with wallet differences Euro, BTC, Fix RealProfitNet using Earning -Costs









Are we selling too much?
Let's suppose that we want to buy 0.5 BTC for some 20000 Euro. The order candicate will compute buy fee in euro, but in fact the buy fee will be deducted from BTC. 
This means that we pay exactly 20000 Euro but only get 0.499998 BTC. On the Sell side we would be selling 0.5 BTC for 21000 Euro. We would get only 20995 Euro. Is it ok that we sell 0.5 and not 0.499998?



TODO
x TECH Why some trades from 11.2. ended in open position => bot crash + minimum amount
x TECH Why order candidates  from 11.2. were too positive  => wrong timing



git ls-files | where {$_.EndsWith(".cs") }| %{ Get-Content -Path $_ } | measure